import{x as K,_ as he,c as U,r as M,o as Ie,b as f,e as h,f as k,g as a,h as o,l as m,p as H,t as I,k as S,i as V,w as J}from"./index-042cd093.js";const ke="https://gist.githubusercontent.com/srbiz/fd9874f5872a3436e486a16e6e232f72/raw/abhangkatha.json",e=K({content:null,loading:!1,error:null,isDev:!1}),Q=async()=>{e.loading=!0,e.error=null;try{if(!e.isDev){console.log("Production mode: Fetching directly from Gist URL");const d=await fetch(ke,{headers:{Accept:"application/json","Cache-Control":"no-cache","User-Agent":"AkhandPrakashYog-App"}});if(!d.ok)throw new Error(`गिस्ट फेच करताना त्रुटी: ${d.status}`);const p=await d.json();return e.content=p,p}const s=e.isDev?"http://localhost:3000":"",u=await fetch(`${s}/api/sync-from-gist`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!u.ok)throw new Error(`API कॉल अयशस्वी: ${u.status}`);const i=await fetch(`${s}/api/content`);if(!i.ok)throw new Error(`कंटेंट फेच करताना त्रुटी: ${i.status}`);const c=await i.json();return e.content=c,c}catch(s){return e.error=`डेटा फेच करताना त्रुटी: ${s.message}`,console.error(e.error),null}finally{e.loading=!1}},W=async()=>{e.loading=!0,e.error=null;try{const s=await fetch("/src/data/content.json");if(!s.ok)throw new Error(`लोकल फाइल वाचताना त्रुटी: ${s.status}`);const u=await s.json();return e.content=u,u}catch(s){return e.error=`लोकल डेटा फेच करताना त्रुटी: ${s.message}`,console.error(e.error),null}finally{e.loading=!1}},_=async s=>{if(!e.isDev)return console.warn("Data updates are disabled in production mode"),!1;e.loading=!0,e.error=null;try{const u=await fetch("http://localhost:3000/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!u.ok)throw new Error(`Error saving data to server: ${u.status}`);return(await u.json()).success}catch(u){return e.error=`Error saving data: ${u.message}`,console.error(e.error),!1}finally{e.loading=!1}},Y=async s=>{if(!e.isDev)return console.warn("Data updates are disabled in production mode"),{success:!1,message:"Data updates are disabled in production mode"};e.loading=!0,e.error=null;try{const u=await fetch("http://localhost:3000/api/push-to-gist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),i=await u.json();return u.ok?{success:!0,message:i.message||"Successfully pushed to Gist",data:i.data,token_status:i.token_status||"valid"}:u.status===413?(e.error=`Error pushing data to Gist: Payload too large (${i.size} bytes). Please reduce content size.`,console.error(e.error),{success:!1,error:"payload_too_large",message:i.message||e.error}):(e.error=`Error pushing data to Gist: ${u.status} - ${i.error||"Unknown error"}`,console.error(e.error),{success:!1,error:"api_error",message:e.error})}catch(u){return e.error=`Error pushing to Gist: ${u.message}`,console.error(e.error),{success:!1,error:"request_failed",message:u.message}}finally{e.loading=!1}},Se=async s=>{e.loading=!0,e.error=null;try{if(!await _(s))throw new Error("Failed to save data to local server");const i=await Y(s);return i&&i.success===!1?{success:!0,partial:!0,error:i.error,message:i.message||"Saved locally but failed to push to Gist"}:i?{success:!0,partial:!1,message:"Successfully saved to local server and pushed to Gist"}:{success:!0,partial:!0,message:"Saved locally but failed to push to Gist"}}catch(u){return e.error=`Error in save operation: ${u.message}`,console.error(e.error),{success:!1,message:e.error}}finally{e.loading=!1}},Te=async()=>{const s=await W();return s||await Q()},Ve=async s=>(e.content=s,await _(s)),Ce=async s=>!e.content||!e.content.mr||!e.content.mr.saints?(e.error="डेटा स्ट्रक्चर अवैध आहे",!1):(s.id=s.id||`saint-${Date.now()}`,e.content.mr.saints.push(s),await _(e.content)),$e=async(s,u)=>{if(!e.content||!e.content.mr||!e.content.mr.saints)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const i=e.content.mr.saints.findIndex(c=>c.id===s);return i===-1?(e.error=`संत ID '${s}' सापडला नाही`,!1):(u.id=s,e.content.mr.saints[i]=u,await _(e.content))},xe=async s=>{if(!e.content||!e.content.mr||!e.content.mr.saints)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const u=e.content.mr.saints.length;return e.content.mr.saints=e.content.mr.saints.filter(i=>i.id!==s),e.content.mr.saints.length===u?(e.error=`संत ID '${s}' सापडला नाही`,!1):(e.content.mr.abhangs&&(e.content.mr.abhangs=e.content.mr.abhangs.filter(i=>i.saintId!==s)),e.content.mr.stories&&(e.content.mr.stories=e.content.mr.stories.filter(i=>i.saintId!==s)),await _(e.content))},Ae=async s=>!e.content||!e.content.mr||!e.content.mr.abhangs?(e.error="डेटा स्ट्रक्चर अवैध आहे",!1):(s.id=s.id||`${s.saintId}-${Date.now()}`,e.content.mr.abhangs.push(s),await _(e.content)),De=async(s,u)=>{if(!e.content||!e.content.mr||!e.content.mr.abhangs)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const i=e.content.mr.abhangs.findIndex(c=>c.id===s);return i===-1?(e.error=`अभंग ID '${s}' सापडला नाही`,!1):(u.id=s,e.content.mr.abhangs[i]=u,await _(e.content))},Ge=async s=>{if(!e.content||!e.content.mr||!e.content.mr.abhangs)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const u=e.content.mr.abhangs.length;return e.content.mr.abhangs=e.content.mr.abhangs.filter(i=>i.id!==s),e.content.mr.abhangs.length===u?(e.error=`अभंग ID '${s}' सापडला नाही`,!1):(e.content.mr.stories&&(e.content.mr.stories=e.content.mr.stories.map(i=>(i.abhangId===s&&(i.abhangId=null),i))),await _(e.content))},Ee=async s=>!e.content||!e.content.mr||!e.content.mr.stories?(e.error="डेटा स्ट्रक्चर अवैध आहे",!1):(s.id=s.id||`story-${Date.now()}`,e.content.mr.stories.push(s),await _(e.content)),Ue=async(s,u)=>{if(!e.content||!e.content.mr||!e.content.mr.stories)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const i=e.content.mr.stories.findIndex(c=>c.id===s);return i===-1?(e.error=`कथा ID '${s}' सापडली नाही`,!1):(u.id=s,e.content.mr.stories[i]=u,await _(e.content))},Me=async s=>{if(!e.content||!e.content.mr||!e.content.mr.stories)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const u=e.content.mr.stories.length;return e.content.mr.stories=e.content.mr.stories.filter(i=>i.id!==s),e.content.mr.stories.length===u?(e.error=`कथा ID '${s}' सापडली नाही`,!1):await _(e.content)},v={state:e,initializeData:Te,fetchFromGist:Q,fetchFromLocal:W,updateContent:Ve,saveToServer:_,pushToGist:Y,saveToServerAndGist:Se,addSaint:Ce,updateSaint:$e,deleteSaint:xe,addAbhang:Ae,updateAbhang:De,deleteAbhang:Ge,addStory:Ee,updateStory:Ue,deleteStory:Me};const Le={key:0,class:"admin-view"},Fe={key:0,class:"mt-2"},Ne={class:"text-truncate",style:{"max-width":"300px"}},je={class:"text-truncate",style:{"max-width":"400px"}},qe={class:"text-truncate",style:{"max-width":"300px"}},Pe={key:0},Re={key:1},Be={key:2},Oe={key:0},ze={key:1},He={key:2},Je={key:1},Ke={__name:"AdminView",setup(s){const u=U(()=>!1),i=M("saints"),c=M(!1),d=M(null),p=M(null),X=r=>{if(!r)return"";const n={अ:"a",आ:"aa",इ:"i",ई:"ee",उ:"u",ऊ:"oo",ए:"e",ऐ:"ai",ओ:"o",औ:"au",अं:"am",अः:"aha",क:"k",ख:"kh",ग:"g",घ:"gh",ङ:"ng",च:"ch",छ:"chh",ज:"j",झ:"jh",ञ:"ny",ट:"t",ठ:"th",ड:"d",ढ:"dh",ण:"n",त:"t",थ:"th",द:"d",ध:"dh",न:"n",प:"p",फ:"ph",ब:"b",भ:"bh",म:"m",य:"y",र:"r",ल:"l",व:"v",श:"sh",ष:"sh",स:"s",ह:"h",क्ष:"ksh",त्र:"tr",ज्ञ:"gya","ा":"a","ि":"i","ी":"ee","ु":"u","ू":"oo","े":"e","ै":"ai","ो":"o","ौ":"au","ं":"m","ः":"h","्":"","ृ":"ru","ॄ":"roo","ॢ":"lu","ॣ":"loo","ॅ":"e","ॆ":"e","ॉ":"o","ॊ":"o","०":"0","१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9"};let T="";for(let C=0;C<r.length;C++){const L=r[C];T+=n[L]||L}return T.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},t=K({showForm:!1,editMode:!1,currentItem:null,itemType:null}),y=M("");Ie(async()=>{c.value=!0;try{await v.initializeData(),c.value=!1}catch(r){d.value=`Error loading data: ${r.message}`,c.value=!1}});const g=U(()=>{var r;return((r=v.state.content)==null?void 0:r.mr)||{}}),Z=U(()=>g.value.saints?y.value?g.value.saints.filter(r=>r.name.toLowerCase().includes(y.value.toLowerCase())||r.id.toLowerCase().includes(y.value.toLowerCase())):g.value.saints:[]),ee=U(()=>g.value.abhangs?y.value?g.value.abhangs.filter(r=>r.content.toLowerCase().includes(y.value.toLowerCase())||r.id.toLowerCase().includes(y.value.toLowerCase())||r.saintId.toLowerCase().includes(y.value.toLowerCase())):g.value.abhangs:[]),te=U(()=>g.value.stories?y.value?g.value.stories.filter(r=>r.title.toLowerCase().includes(y.value.toLowerCase())||r.content.toLowerCase().includes(y.value.toLowerCase())||r.id.toLowerCase().includes(y.value.toLowerCase())||r.saintId.toLowerCase().includes(y.value.toLowerCase())):g.value.stories:[]),ne=()=>{t.showForm=!0,t.editMode=!1,t.itemType="saint",t.currentItem={id:"",name:"",image:"",intro:"",quote:""}},ae=r=>{t.showForm=!0,t.editMode=!0,t.itemType="saint",t.currentItem={...r}},re=async r=>{if(confirm(`Do you want to delete Saint ID: ${r}?`)){c.value=!0;try{await v.deleteSaint(r)?(p.value="Saint deleted successfully",setTimeout(()=>p.value=null,3e3)):(d.value=v.state.error||"Error deleting saint",setTimeout(()=>d.value=null,3e3))}catch(n){d.value=`Error deleting saint: ${n.message}`,setTimeout(()=>d.value=null,3e3)}finally{c.value=!1}}},oe=()=>{t.showForm=!0,t.editMode=!1,t.itemType="abhang",t.currentItem={id:"",saintId:"",content:""}},le=r=>{t.showForm=!0,t.editMode=!0,t.itemType="abhang",t.currentItem={...r}},se=async r=>{if(confirm(`Do you want to delete Abhang ID: ${r}?`)){c.value=!0;try{await v.deleteAbhang(r)?(p.value="Abhang deleted successfully",setTimeout(()=>p.value=null,3e3)):(d.value=v.state.error||"Error deleting abhang",setTimeout(()=>d.value=null,3e3))}catch(n){d.value=`Error deleting abhang: ${n.message}`,setTimeout(()=>d.value=null,3e3)}finally{c.value=!1}}},ie=()=>{t.showForm=!0,t.editMode=!1,t.itemType="story",t.currentItem={id:"",saintId:"",abhangId:"",title:"",excerpt:"",content:""},O()},ue=r=>{t.showForm=!0,t.editMode=!0,t.itemType="story",t.currentItem={...r},O()},O=()=>{J(()=>{var r;return(r=t.currentItem)==null?void 0:r.id},r=>{if(t.itemType!=="story"||!r)return;const n=r.match(/^([^-]+)-/);n&&n[1]&&(t.currentItem.saintId=n[1])}),J(()=>{var r;return(r=t.currentItem)==null?void 0:r.title},r=>{if(t.itemType!=="story"||!r||t.editMode)return;const n=X(r);if(t.currentItem.id){const T=t.currentItem.id.split("-");T.length>1?t.currentItem.id=`${T[0]}-${n}`:t.currentItem.id=n}else t.currentItem.saintId?t.currentItem.id=`${t.currentItem.saintId}-${n}`:t.currentItem.id=n})},de=async r=>{if(confirm(`कथा ID: ${r} डिलीट करायची आहे का?`)){c.value=!0;try{await v.deleteStory(r)?(p.value="कथा यशस्वीरित्या डिलीट केली",setTimeout(()=>p.value=null,3e3)):(d.value=v.state.error||"कथा डिलीट करताना त्रुटी",setTimeout(()=>d.value=null,3e3))}catch(n){d.value=`कथा डिलीट करताना त्रुटी: ${n.message}`,setTimeout(()=>d.value=null,3e3)}finally{c.value=!1}}},ce=async()=>{if(t.currentItem){c.value=!0;try{let r=!1;if(t.itemType==="saint"?t.editMode?r=await v.updateSaint(t.currentItem.id,t.currentItem):r=await v.addSaint(t.currentItem):t.itemType==="abhang"?t.editMode?r=await v.updateAbhang(t.currentItem.id,t.currentItem):r=await v.addAbhang(t.currentItem):t.itemType==="story"&&(t.editMode?r=await v.updateStory(t.currentItem.id,t.currentItem):r=await v.addStory(t.currentItem)),r){const n=await v.saveToServerAndGist(v.state.content);n.success?n.partial?p.value=`${t.itemType} saved locally but failed to push to Gist: ${n.message}`:p.value=`${t.itemType} successfully ${t.editMode?"updated":"added"} and pushed to Gist`:d.value=n.message||"Error pushing to Gist",setTimeout(()=>p.value=null,5e3),t.showForm=!1}else d.value=v.state.error||`Error ${t.editMode?"updating":"adding"} ${t.itemType}`,setTimeout(()=>d.value=null,3e3)}catch(r){d.value=`Error submitting form: ${r.message}`,setTimeout(()=>d.value=null,3e3)}finally{c.value=!1}}},me=()=>{t.showForm=!1,t.itemType==="saint"?t.currentItem={id:"",name:"",image:"",intro:"",quote:""}:t.itemType==="abhang"?t.currentItem={id:"",saintId:"",content:""}:t.itemType==="story"&&(t.currentItem={id:"",saintId:"",abhangId:"",title:"",excerpt:"",content:""}),setTimeout(()=>{t.itemType=null},300)},fe=async()=>{c.value=!0;try{const r=await v.fetchFromGist();r?(await v.updateContent(r),p.value="Data successfully synced from Gist",setTimeout(()=>p.value=null,3e3)):(d.value=v.state.error||"Error syncing data from Gist",setTimeout(()=>d.value=null,3e3))}catch(r){d.value=`Error syncing data from Gist: ${r.message}`,setTimeout(()=>d.value=null,3e3)}finally{c.value=!1}},ve=async()=>{c.value=!0;try{const r=await v.pushToGist(v.state.content);r&&r.success?(p.value="Data successfully pushed to Gist",setTimeout(()=>p.value=null,3e3)):(r&&r.error==="payload_too_large"?d.value=r.message||"डेटा आकार खूप मोठा आहे. कृपया काही कंटेंट काढून टाका.":r&&r.error==="invalid_token"?d.value="GitHub token is invalid or expired. Please update the GITHUB_TOKEN in your .env file.":d.value=r&&r.message||v.state.error||"Error pushing data to Gist",setTimeout(()=>d.value=null,8e3))}catch(r){d.value=`Error pushing data to Gist: ${r.message}`,setTimeout(()=>d.value=null,8e3)}finally{c.value=!1}};return(r,n)=>{const T=f("v-chip"),C=f("v-card-title"),L=f("v-card-subtitle"),N=f("v-alert"),$=f("v-text-field"),x=f("v-col"),b=f("v-icon"),w=f("v-btn"),A=f("v-row"),D=f("v-card-text"),G=f("v-card"),j=f("v-tab"),pe=f("v-tabs"),ge=f("v-img"),q=f("v-data-table"),P=f("v-window-item"),ye=f("v-window"),F=f("v-textarea"),z=f("v-combobox"),R=f("v-select"),B=f("v-container"),we=f("v-spacer"),be=f("v-card-actions"),_e=f("v-dialog");return u.value?(h(),k("div",Le,[a(B,null,{default:o(()=>[a(A,null,{default:o(()=>[a(x,{cols:"12"},{default:o(()=>[a(G,{class:"mb-4"},{default:o(()=>[a(C,{class:"text-h4"},{default:o(()=>[n[20]||(n[20]=m(" Admin Panel ",-1)),a(T,{color:"warning",class:"ml-2"},{default:o(()=>[...n[19]||(n[19]=[m("Development Mode",-1)])]),_:1})]),_:1}),a(L,null,{default:o(()=>[...n[21]||(n[21]=[m(" Content Management System - Manage Saints, Abhangs and Stories ",-1)])]),_:1}),a(D,null,{default:o(()=>[d.value?(h(),H(N,{key:0,type:"error",dismissible:""},{default:o(()=>[m(I(d.value)+" ",1),d.value&&d.value.includes("GitHub token")?(h(),k("div",Fe,[...n[22]||(n[22]=[S("strong",null,"How to fix:",-1),S("ol",null,[S("li",null,"Generate a new GitHub Personal Access Token with 'gist' scope"),S("li",null,"Update the GITHUB_TOKEN value in your .env file"),S("li",null,"Restart the server")],-1)])])):V("",!0)]),_:1})):V("",!0),p.value?(h(),H(N,{key:1,type:"success",dismissible:""},{default:o(()=>[m(I(p.value),1)]),_:1})):V("",!0),a(A,null,{default:o(()=>[a(x,{cols:"12",md:"6"},{default:o(()=>[a($,{modelValue:y.value,"onUpdate:modelValue":n[0]||(n[0]=l=>y.value=l),label:"Search","prepend-icon":"mdi-magnify",clearable:""},null,8,["modelValue"])]),_:1}),a(x,{cols:"12",md:"6",class:"text-right"},{default:o(()=>[a(w,{color:"primary",onClick:fe,loading:c.value,class:"mr-2"},{default:o(()=>[a(b,{left:""},{default:o(()=>[...n[23]||(n[23]=[m("mdi-cloud-download",-1)])]),_:1}),n[24]||(n[24]=m(" Sync from Gist ",-1))]),_:1},8,["loading"]),a(w,{color:"success",onClick:ve,loading:c.value,class:"mr-2"},{default:o(()=>[a(b,{left:""},{default:o(()=>[...n[25]||(n[25]=[m("mdi-cloud-upload",-1)])]),_:1}),n[26]||(n[26]=m(" Save to Gist ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(pe,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=l=>i.value=l),color:"primary",grow:""},{default:o(()=>[a(j,{value:"saints"},{default:o(()=>[...n[27]||(n[27]=[m("Saints",-1)])]),_:1}),a(j,{value:"abhangs"},{default:o(()=>[...n[28]||(n[28]=[m("Abhangs",-1)])]),_:1}),a(j,{value:"stories"},{default:o(()=>[...n[29]||(n[29]=[m("Stories",-1)])]),_:1})]),_:1},8,["modelValue"]),a(ye,{modelValue:i.value,"onUpdate:modelValue":n[2]||(n[2]=l=>i.value=l)},{default:o(()=>[a(P,{value:"saints"},{default:o(()=>[a(G,{flat:""},{default:o(()=>[a(D,null,{default:o(()=>[a(A,null,{default:o(()=>[a(x,{cols:"12",class:"text-right"},{default:o(()=>[a(w,{color:"success",onClick:ne},{default:o(()=>[a(b,{left:""},{default:o(()=>[...n[30]||(n[30]=[m("mdi-plus",-1)])]),_:1}),n[31]||(n[31]=m(" Add New Saint ",-1))]),_:1})]),_:1})]),_:1}),a(q,{headers:[{title:"Saint ID",key:"id",sortable:!0},{title:"Name",key:"name",sortable:!0},{title:"Image",key:"image",sortable:!1},{title:"Introduction",key:"intro",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],items:Z.value,loading:c.value,class:"elevation-1"},{"item.image":o(({item:l})=>[a(ge,{src:l.image,"max-width":"100","max-height":"100",contain:""},null,8,["src"])]),"item.intro":o(({item:l})=>[S("div",Ne,I(l.intro),1)]),"item.actions":o(({item:l})=>[a(w,{icon:"",small:"",onClick:E=>ae(l),color:"primary"},{default:o(()=>[a(b,null,{default:o(()=>[...n[32]||(n[32]=[m("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick"]),a(w,{icon:"",small:"",onClick:E=>re(l.id),color:"error"},{default:o(()=>[a(b,null,{default:o(()=>[...n[33]||(n[33]=[m("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])]),_:1},8,["items","loading"])]),_:1})]),_:1})]),_:1}),a(P,{value:"abhangs"},{default:o(()=>[a(G,{flat:""},{default:o(()=>[a(D,null,{default:o(()=>[a(A,null,{default:o(()=>[a(x,{cols:"12",class:"text-right"},{default:o(()=>[a(w,{color:"success",onClick:oe},{default:o(()=>[a(b,{left:""},{default:o(()=>[...n[34]||(n[34]=[m("mdi-plus",-1)])]),_:1}),n[35]||(n[35]=m(" Add New Abhang ",-1))]),_:1})]),_:1})]),_:1}),a(q,{headers:[{title:"Abhang ID",key:"id",sortable:!0},{title:"Saint ID",key:"saintId",sortable:!0},{title:"Abhang",key:"content",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],items:ee.value,loading:c.value,class:"elevation-1"},{"item.content":o(({item:l})=>[S("div",je,I(l.content),1)]),"item.actions":o(({item:l})=>[a(w,{icon:"",small:"",onClick:E=>le(l),color:"primary"},{default:o(()=>[a(b,null,{default:o(()=>[...n[36]||(n[36]=[m("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick"]),a(w,{icon:"",small:"",onClick:E=>se(l.id),color:"error"},{default:o(()=>[a(b,null,{default:o(()=>[...n[37]||(n[37]=[m("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])]),_:1},8,["items","loading"])]),_:1})]),_:1})]),_:1}),a(P,{value:"stories"},{default:o(()=>[a(G,{flat:""},{default:o(()=>[a(D,null,{default:o(()=>[a(A,null,{default:o(()=>[a(x,{cols:"12",class:"text-right"},{default:o(()=>[a(w,{color:"success",onClick:ie},{default:o(()=>[a(b,{left:""},{default:o(()=>[...n[38]||(n[38]=[m("mdi-plus",-1)])]),_:1}),n[39]||(n[39]=m(" Add New Story ",-1))]),_:1})]),_:1})]),_:1}),a(q,{headers:[{title:"Story ID",key:"id",sortable:!0},{title:"Title",key:"title",sortable:!0},{title:"Saint ID",key:"saintId",sortable:!0},{title:"Abhang ID",key:"abhangId",sortable:!0},{title:"Summary",key:"excerpt",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],items:te.value,loading:c.value,class:"elevation-1"},{"item.excerpt":o(({item:l})=>[S("div",qe,I(l.excerpt),1)]),"item.actions":o(({item:l})=>[a(w,{icon:"",small:"",onClick:E=>ue(l),color:"primary"},{default:o(()=>[a(b,null,{default:o(()=>[...n[40]||(n[40]=[m("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick"]),a(w,{icon:"",small:"",onClick:E=>de(l.id),color:"error"},{default:o(()=>[a(b,null,{default:o(()=>[...n[41]||(n[41]=[m("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])]),_:1},8,["items","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(_e,{modelValue:t.showForm,"onUpdate:modelValue":n[18]||(n[18]=l=>t.showForm=l),"max-width":"800px"},{default:o(()=>[a(G,null,{default:o(()=>[a(C,null,{default:o(()=>[t.itemType==="saint"?(h(),k("span",Pe,I(t.editMode?"Edit Saint":"Add New Saint"),1)):t.itemType==="abhang"?(h(),k("span",Re,I(t.editMode?"Edit Abhang":"Add New Abhang"),1)):t.itemType==="story"?(h(),k("span",Be,I(t.editMode?"Edit Story":"Add New Story"),1)):V("",!0),a(w,{icon:"",size:"small",onClick:n[3]||(n[3]=l=>t.showForm=!1),class:"float-right",color:"error"},{default:o(()=>[a(b,null,{default:o(()=>[...n[42]||(n[42]=[m("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),a(D,null,{default:o(()=>[a(B,null,{default:o(()=>[t.itemType==="saint"?(h(),k("div",Oe,[a($,{modelValue:t.currentItem.id,"onUpdate:modelValue":n[4]||(n[4]=l=>t.currentItem.id=l),label:"Saint ID",disabled:t.editMode,required:""},null,8,["modelValue","disabled"]),a($,{modelValue:t.currentItem.name,"onUpdate:modelValue":n[5]||(n[5]=l=>t.currentItem.name=l),label:"Name",required:""},null,8,["modelValue"]),a($,{modelValue:t.currentItem.image,"onUpdate:modelValue":n[6]||(n[6]=l=>t.currentItem.image=l),label:"Image URL"},null,8,["modelValue"]),a(F,{modelValue:t.currentItem.intro,"onUpdate:modelValue":n[7]||(n[7]=l=>t.currentItem.intro=l),label:"Introduction",rows:"3"},null,8,["modelValue"]),a($,{modelValue:t.currentItem.quote,"onUpdate:modelValue":n[8]||(n[8]=l=>t.currentItem.quote=l),label:"Quote"},null,8,["modelValue"])])):V("",!0),t.itemType==="abhang"?(h(),k("div",ze,[a(z,{modelValue:t.currentItem.id,"onUpdate:modelValue":n[9]||(n[9]=l=>t.currentItem.id=l),items:g.value.saints.map(l=>l.id+"-")||[],label:"Abhang ID",disabled:t.editMode,required:""},null,8,["modelValue","items","disabled"]),a(R,{modelValue:t.currentItem.saintId,"onUpdate:modelValue":n[10]||(n[10]=l=>t.currentItem.saintId=l),items:g.value.saints.map(l=>l.id)||[],"item-title":"name","item-value":"id",label:"Saint ID","return-object":"",required:""},null,8,["modelValue","items"]),a(F,{modelValue:t.currentItem.content,"onUpdate:modelValue":n[11]||(n[11]=l=>t.currentItem.content=l),label:"Abhang Content",rows:"5",required:""},null,8,["modelValue"])])):V("",!0),t.itemType==="story"?(h(),k("div",He,[a(z,{modelValue:t.currentItem.id,"onUpdate:modelValue":n[12]||(n[12]=l=>t.currentItem.id=l),items:g.value.abhangs.map(l=>l.saintId+"-")||[],label:"Story ID",disabled:t.editMode,required:""},null,8,["modelValue","items","disabled"]),a($,{modelValue:t.currentItem.title,"onUpdate:modelValue":n[13]||(n[13]=l=>t.currentItem.title=l),label:"Title",required:""},null,8,["modelValue"]),a(R,{modelValue:t.currentItem.saintId,"onUpdate:modelValue":n[14]||(n[14]=l=>t.currentItem.saintId=l),items:g.value.saints.map(l=>l.id)||[],"item-title":"name","item-value":"id",label:"Saint ID",required:""},null,8,["modelValue","items"]),a(R,{modelValue:t.currentItem.abhangId,"onUpdate:modelValue":n[15]||(n[15]=l=>t.currentItem.abhangId=l),items:g.value.abhangs?g.value.abhangs.filter(l=>l.saintId===t.currentItem.saintId):[],"item-title":"content","item-value":"id",label:"Abhang"},null,8,["modelValue","items"]),a(F,{modelValue:t.currentItem.excerpt,"onUpdate:modelValue":n[16]||(n[16]=l=>t.currentItem.excerpt=l),label:"Summary",rows:"2"},null,8,["modelValue"]),a(F,{modelValue:t.currentItem.content,"onUpdate:modelValue":n[17]||(n[17]=l=>t.currentItem.content=l),label:"Story Content",rows:"5",required:""},null,8,["modelValue"])])):V("",!0)]),_:1})]),_:1}),a(be,null,{default:o(()=>[a(we),a(w,{color:"error",text:"",onClick:me},{default:o(()=>[m(I(t.editMode?"Cancel Update":"Cancel"),1)]),_:1}),a(w,{color:"success",onClick:ce,loading:c.value},{default:o(()=>[m(I(t.editMode?"Update":"Save"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])):(h(),k("div",Je,[a(B,null,{default:o(()=>[a(N,{type:"warning"},{default:o(()=>[...n[43]||(n[43]=[m(" Admin panel is only available in development mode. ",-1)])]),_:1})]),_:1})]))}}},We=he(Ke,[["__scopeId","data-v-a6c70ff5"]]);export{We as default};
