import{x as O,_ as be,c as G,r as E,o as we,b as f,e as I,f as k,g as a,h as o,l as m,p as B,t as h,k as S,i as T}from"./index-f84be970.js";const _e="https://gist.githubusercontent.com/srbiz/fd9874f5872a3436e486a16e6e232f72/raw/69caf9415176024cf8aeb40f805acaf8229905f5/abhangkatha.json",e=O({content:null,loading:!1,error:null,isDev:!1}),z=async()=>{e.loading=!0,e.error=null;try{if(!e.isDev){console.log("Production mode: Fetching directly from Gist URL");const d=await fetch(_e,{headers:{Accept:"application/json","Cache-Control":"no-cache","User-Agent":"AkhandPrakashYog-App"}});if(!d.ok)throw new Error(`गिस्ट फेच करताना त्रुटी: ${d.status}`);const p=await d.json();return e.content=p,p}const l=e.isDev?"http://localhost:3000":"",u=await fetch(`${l}/api/sync-from-gist`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!u.ok)throw new Error(`API कॉल अयशस्वी: ${u.status}`);const i=await fetch(`${l}/api/content`);if(!i.ok)throw new Error(`कंटेंट फेच करताना त्रुटी: ${i.status}`);const c=await i.json();return e.content=c,c}catch(l){return e.error=`डेटा फेच करताना त्रुटी: ${l.message}`,console.error(e.error),null}finally{e.loading=!1}},H=async()=>{e.loading=!0,e.error=null;try{const l=await fetch("/src/data/content.json");if(!l.ok)throw new Error(`लोकल फाइल वाचताना त्रुटी: ${l.status}`);const u=await l.json();return e.content=u,u}catch(l){return e.error=`लोकल डेटा फेच करताना त्रुटी: ${l.message}`,console.error(e.error),null}finally{e.loading=!1}},_=async l=>{if(!e.isDev)return console.warn("Data updates are disabled in production mode"),!1;e.loading=!0,e.error=null;try{const u=await fetch("http://localhost:3000/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!u.ok)throw new Error(`Error saving data to server: ${u.status}`);return(await u.json()).success}catch(u){return e.error=`Error saving data: ${u.message}`,console.error(e.error),!1}finally{e.loading=!1}},J=async l=>{if(!e.isDev)return console.warn("Data updates are disabled in production mode"),{success:!1,message:"Data updates are disabled in production mode"};e.loading=!0,e.error=null;try{const u=await fetch("http://localhost:3000/api/push-to-gist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),i=await u.json();return u.ok?{success:!0,message:i.message||"Successfully pushed to Gist",data:i.data,token_status:i.token_status||"valid"}:u.status===413?(e.error=`Error pushing data to Gist: Payload too large (${i.size} bytes). Please reduce content size.`,console.error(e.error),{success:!1,error:"payload_too_large",message:i.message||e.error}):(e.error=`Error pushing data to Gist: ${u.status} - ${i.error||"Unknown error"}`,console.error(e.error),{success:!1,error:"api_error",message:e.error})}catch(u){return e.error=`Error pushing to Gist: ${u.message}`,console.error(e.error),{success:!1,error:"request_failed",message:u.message}}finally{e.loading=!1}},Ie=async l=>{e.loading=!0,e.error=null;try{if(!await _(l))throw new Error("Failed to save data to local server");const i=await J(l);return i&&i.success===!1?{success:!0,partial:!0,error:i.error,message:i.message||"Saved locally but failed to push to Gist"}:i?{success:!0,partial:!1,message:"Successfully saved to local server and pushed to Gist"}:{success:!0,partial:!0,message:"Saved locally but failed to push to Gist"}}catch(u){return e.error=`Error in save operation: ${u.message}`,console.error(e.error),{success:!1,message:e.error}}finally{e.loading=!1}},he=async()=>{const l=await H();return l||await z()},ke=async l=>(e.content=l,await _(l)),Se=async l=>!e.content||!e.content.mr||!e.content.mr.saints?(e.error="डेटा स्ट्रक्चर अवैध आहे",!1):(l.id=l.id||`saint-${Date.now()}`,e.content.mr.saints.push(l),await _(e.content)),Te=async(l,u)=>{if(!e.content||!e.content.mr||!e.content.mr.saints)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const i=e.content.mr.saints.findIndex(c=>c.id===l);return i===-1?(e.error=`संत ID '${l}' सापडला नाही`,!1):(u.id=l,e.content.mr.saints[i]=u,await _(e.content))},Ve=async l=>{if(!e.content||!e.content.mr||!e.content.mr.saints)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const u=e.content.mr.saints.length;return e.content.mr.saints=e.content.mr.saints.filter(i=>i.id!==l),e.content.mr.saints.length===u?(e.error=`संत ID '${l}' सापडला नाही`,!1):(e.content.mr.abhangs&&(e.content.mr.abhangs=e.content.mr.abhangs.filter(i=>i.saintId!==l)),e.content.mr.stories&&(e.content.mr.stories=e.content.mr.stories.filter(i=>i.saintId!==l)),await _(e.content))},Ce=async l=>!e.content||!e.content.mr||!e.content.mr.abhangs?(e.error="डेटा स्ट्रक्चर अवैध आहे",!1):(l.id=l.id||`${l.saintId}-${Date.now()}`,e.content.mr.abhangs.push(l),await _(e.content)),xe=async(l,u)=>{if(!e.content||!e.content.mr||!e.content.mr.abhangs)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const i=e.content.mr.abhangs.findIndex(c=>c.id===l);return i===-1?(e.error=`अभंग ID '${l}' सापडला नाही`,!1):(u.id=l,e.content.mr.abhangs[i]=u,await _(e.content))},$e=async l=>{if(!e.content||!e.content.mr||!e.content.mr.abhangs)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const u=e.content.mr.abhangs.length;return e.content.mr.abhangs=e.content.mr.abhangs.filter(i=>i.id!==l),e.content.mr.abhangs.length===u?(e.error=`अभंग ID '${l}' सापडला नाही`,!1):(e.content.mr.stories&&(e.content.mr.stories=e.content.mr.stories.map(i=>(i.abhangId===l&&(i.abhangId=null),i))),await _(e.content))},Ae=async l=>!e.content||!e.content.mr||!e.content.mr.stories?(e.error="डेटा स्ट्रक्चर अवैध आहे",!1):(l.id=l.id||`story-${Date.now()}`,e.content.mr.stories.push(l),await _(e.content)),De=async(l,u)=>{if(!e.content||!e.content.mr||!e.content.mr.stories)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const i=e.content.mr.stories.findIndex(c=>c.id===l);return i===-1?(e.error=`कथा ID '${l}' सापडली नाही`,!1):(u.id=l,e.content.mr.stories[i]=u,await _(e.content))},Ge=async l=>{if(!e.content||!e.content.mr||!e.content.mr.stories)return e.error="डेटा स्ट्रक्चर अवैध आहे",!1;const u=e.content.mr.stories.length;return e.content.mr.stories=e.content.mr.stories.filter(i=>i.id!==l),e.content.mr.stories.length===u?(e.error=`कथा ID '${l}' सापडली नाही`,!1):await _(e.content)},v={state:e,initializeData:he,fetchFromGist:z,fetchFromLocal:H,updateContent:ke,saveToServer:_,pushToGist:J,saveToServerAndGist:Ie,addSaint:Se,updateSaint:Te,deleteSaint:Ve,addAbhang:Ce,updateAbhang:xe,deleteAbhang:$e,addStory:Ae,updateStory:De,deleteStory:Ge};const Ee={key:0,class:"admin-view"},Ue={key:0,class:"mt-2"},Le={class:"text-truncate",style:{"max-width":"300px"}},Me={class:"text-truncate",style:{"max-width":"400px"}},Fe={class:"text-truncate",style:{"max-width":"300px"}},Ne={key:0},qe={key:1},je={key:2},Pe={key:0},Re={key:1},Be={key:2},Oe={key:1},ze={__name:"AdminView",setup(l){const u=G(()=>!1),i=E("saints"),c=E(!1),d=E(null),p=E(null),n=O({showForm:!1,editMode:!1,currentItem:null,itemType:null}),y=E("");we(async()=>{c.value=!0;try{await v.initializeData(),c.value=!1}catch(s){d.value=`Error loading data: ${s.message}`,c.value=!1}});const g=G(()=>{var s;return((s=v.state.content)==null?void 0:s.mr)||{}}),K=G(()=>g.value.saints?y.value?g.value.saints.filter(s=>s.name.toLowerCase().includes(y.value.toLowerCase())||s.id.toLowerCase().includes(y.value.toLowerCase())):g.value.saints:[]),Q=G(()=>g.value.abhangs?y.value?g.value.abhangs.filter(s=>s.content.toLowerCase().includes(y.value.toLowerCase())||s.id.toLowerCase().includes(y.value.toLowerCase())||s.saintId.toLowerCase().includes(y.value.toLowerCase())):g.value.abhangs:[]),Y=G(()=>g.value.stories?y.value?g.value.stories.filter(s=>s.title.toLowerCase().includes(y.value.toLowerCase())||s.content.toLowerCase().includes(y.value.toLowerCase())||s.id.toLowerCase().includes(y.value.toLowerCase())||s.saintId.toLowerCase().includes(y.value.toLowerCase())):g.value.stories:[]),W=()=>{n.showForm=!0,n.editMode=!1,n.itemType="saint",n.currentItem={id:"",name:"",image:"",intro:"",quote:""}},X=s=>{n.showForm=!0,n.editMode=!0,n.itemType="saint",n.currentItem={...s}},Z=async s=>{if(confirm(`Do you want to delete Saint ID: ${s}?`)){c.value=!0;try{await v.deleteSaint(s)?(p.value="Saint deleted successfully",setTimeout(()=>p.value=null,3e3)):(d.value=v.state.error||"Error deleting saint",setTimeout(()=>d.value=null,3e3))}catch(t){d.value=`Error deleting saint: ${t.message}`,setTimeout(()=>d.value=null,3e3)}finally{c.value=!1}}},ee=()=>{n.showForm=!0,n.editMode=!1,n.itemType="abhang",n.currentItem={id:"",saintId:"",content:""}},te=s=>{n.showForm=!0,n.editMode=!0,n.itemType="abhang",n.currentItem={...s}},ne=async s=>{if(confirm(`Do you want to delete Abhang ID: ${s}?`)){c.value=!0;try{await v.deleteAbhang(s)?(p.value="Abhang deleted successfully",setTimeout(()=>p.value=null,3e3)):(d.value=v.state.error||"Error deleting abhang",setTimeout(()=>d.value=null,3e3))}catch(t){d.value=`Error deleting abhang: ${t.message}`,setTimeout(()=>d.value=null,3e3)}finally{c.value=!1}}},ae=()=>{n.showForm=!0,n.editMode=!1,n.itemType="story",n.currentItem={id:"",saintId:"",abhangId:"",title:"",excerpt:"",content:""}},oe=s=>{n.showForm=!0,n.editMode=!0,n.itemType="story",n.currentItem={...s}},re=async s=>{if(confirm(`कथा ID: ${s} डिलीट करायची आहे का?`)){c.value=!0;try{await v.deleteStory(s)?(p.value="कथा यशस्वीरित्या डिलीट केली",setTimeout(()=>p.value=null,3e3)):(d.value=v.state.error||"कथा डिलीट करताना त्रुटी",setTimeout(()=>d.value=null,3e3))}catch(t){d.value=`कथा डिलीट करताना त्रुटी: ${t.message}`,setTimeout(()=>d.value=null,3e3)}finally{c.value=!1}}},le=async()=>{if(n.currentItem){c.value=!0;try{let s=!1;if(n.itemType==="saint"?n.editMode?s=await v.updateSaint(n.currentItem.id,n.currentItem):s=await v.addSaint(n.currentItem):n.itemType==="abhang"?n.editMode?s=await v.updateAbhang(n.currentItem.id,n.currentItem):s=await v.addAbhang(n.currentItem):n.itemType==="story"&&(n.editMode?s=await v.updateStory(n.currentItem.id,n.currentItem):s=await v.addStory(n.currentItem)),s){const t=await v.saveToServerAndGist(v.state.content);t.success?t.partial?p.value=`${n.itemType} saved locally but failed to push to Gist: ${t.message}`:p.value=`${n.itemType} successfully ${n.editMode?"updated":"added"} and pushed to Gist`:d.value=t.message||"Error pushing to Gist",setTimeout(()=>p.value=null,5e3),n.showForm=!1}else d.value=v.state.error||`Error ${n.editMode?"updating":"adding"} ${n.itemType}`,setTimeout(()=>d.value=null,3e3)}catch(s){d.value=`Error submitting form: ${s.message}`,setTimeout(()=>d.value=null,3e3)}finally{c.value=!1}}},se=()=>{n.showForm=!1,n.itemType==="saint"?n.currentItem={id:"",name:"",image:"",intro:"",quote:""}:n.itemType==="abhang"?n.currentItem={id:"",saintId:"",content:""}:n.itemType==="story"&&(n.currentItem={id:"",saintId:"",abhangId:"",title:"",excerpt:"",content:""}),setTimeout(()=>{n.itemType=null},300)},ie=async()=>{c.value=!0;try{const s=await v.fetchFromGist();s?(await v.updateContent(s),p.value="Data successfully synced from Gist",setTimeout(()=>p.value=null,3e3)):(d.value=v.state.error||"Error syncing data from Gist",setTimeout(()=>d.value=null,3e3))}catch(s){d.value=`Error syncing data from Gist: ${s.message}`,setTimeout(()=>d.value=null,3e3)}finally{c.value=!1}},ue=async()=>{c.value=!0;try{const s=await v.pushToGist(v.state.content);s&&s.success?(p.value="Data successfully pushed to Gist",setTimeout(()=>p.value=null,3e3)):(s&&s.error==="payload_too_large"?d.value=s.message||"डेटा आकार खूप मोठा आहे. कृपया काही कंटेंट काढून टाका.":s&&s.error==="invalid_token"?d.value="GitHub token is invalid or expired. Please update the GITHUB_TOKEN in your .env file.":d.value=s&&s.message||v.state.error||"Error pushing data to Gist",setTimeout(()=>d.value=null,8e3))}catch(s){d.value=`Error pushing data to Gist: ${s.message}`,setTimeout(()=>d.value=null,8e3)}finally{c.value=!1}};return(s,t)=>{const de=f("v-chip"),P=f("v-card-title"),ce=f("v-card-subtitle"),L=f("v-alert"),V=f("v-text-field"),C=f("v-col"),w=f("v-icon"),b=f("v-btn"),x=f("v-row"),$=f("v-card-text"),A=f("v-card"),M=f("v-tab"),me=f("v-tabs"),fe=f("v-img"),F=f("v-data-table"),N=f("v-window-item"),ve=f("v-window"),U=f("v-textarea"),R=f("v-combobox"),q=f("v-select"),j=f("v-container"),pe=f("v-spacer"),ge=f("v-card-actions"),ye=f("v-dialog");return u.value?(I(),k("div",Ee,[a(j,null,{default:o(()=>[a(x,null,{default:o(()=>[a(C,{cols:"12"},{default:o(()=>[a(A,{class:"mb-4"},{default:o(()=>[a(P,{class:"text-h4"},{default:o(()=>[t[20]||(t[20]=m(" Admin Panel ",-1)),a(de,{color:"warning",class:"ml-2"},{default:o(()=>[...t[19]||(t[19]=[m("Development Mode",-1)])]),_:1})]),_:1}),a(ce,null,{default:o(()=>[...t[21]||(t[21]=[m(" Content Management System - Manage Saints, Abhangs and Stories ",-1)])]),_:1}),a($,null,{default:o(()=>[d.value?(I(),B(L,{key:0,type:"error",dismissible:""},{default:o(()=>[m(h(d.value)+" ",1),d.value&&d.value.includes("GitHub token")?(I(),k("div",Ue,[...t[22]||(t[22]=[S("strong",null,"How to fix:",-1),S("ol",null,[S("li",null,"Generate a new GitHub Personal Access Token with 'gist' scope"),S("li",null,"Update the GITHUB_TOKEN value in your .env file"),S("li",null,"Restart the server")],-1)])])):T("",!0)]),_:1})):T("",!0),p.value?(I(),B(L,{key:1,type:"success",dismissible:""},{default:o(()=>[m(h(p.value),1)]),_:1})):T("",!0),a(x,null,{default:o(()=>[a(C,{cols:"12",md:"6"},{default:o(()=>[a(V,{modelValue:y.value,"onUpdate:modelValue":t[0]||(t[0]=r=>y.value=r),label:"Search","prepend-icon":"mdi-magnify",clearable:""},null,8,["modelValue"])]),_:1}),a(C,{cols:"12",md:"6",class:"text-right"},{default:o(()=>[a(b,{color:"primary",onClick:ie,loading:c.value,class:"mr-2"},{default:o(()=>[a(w,{left:""},{default:o(()=>[...t[23]||(t[23]=[m("mdi-cloud-download",-1)])]),_:1}),t[24]||(t[24]=m(" Sync from Gist ",-1))]),_:1},8,["loading"]),a(b,{color:"success",onClick:ue,loading:c.value,class:"mr-2"},{default:o(()=>[a(w,{left:""},{default:o(()=>[...t[25]||(t[25]=[m("mdi-cloud-upload",-1)])]),_:1}),t[26]||(t[26]=m(" Save to Gist ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(me,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=r=>i.value=r),color:"primary",grow:""},{default:o(()=>[a(M,{value:"saints"},{default:o(()=>[...t[27]||(t[27]=[m("Saints",-1)])]),_:1}),a(M,{value:"abhangs"},{default:o(()=>[...t[28]||(t[28]=[m("Abhangs",-1)])]),_:1}),a(M,{value:"stories"},{default:o(()=>[...t[29]||(t[29]=[m("Stories",-1)])]),_:1})]),_:1},8,["modelValue"]),a(ve,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=r=>i.value=r)},{default:o(()=>[a(N,{value:"saints"},{default:o(()=>[a(A,{flat:""},{default:o(()=>[a($,null,{default:o(()=>[a(x,null,{default:o(()=>[a(C,{cols:"12",class:"text-right"},{default:o(()=>[a(b,{color:"success",onClick:W},{default:o(()=>[a(w,{left:""},{default:o(()=>[...t[30]||(t[30]=[m("mdi-plus",-1)])]),_:1}),t[31]||(t[31]=m(" Add New Saint ",-1))]),_:1})]),_:1})]),_:1}),a(F,{headers:[{title:"Saint ID",key:"id",sortable:!0},{title:"Name",key:"name",sortable:!0},{title:"Image",key:"image",sortable:!1},{title:"Introduction",key:"intro",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],items:K.value,loading:c.value,class:"elevation-1"},{"item.image":o(({item:r})=>[a(fe,{src:r.image,"max-width":"100","max-height":"100",contain:""},null,8,["src"])]),"item.intro":o(({item:r})=>[S("div",Le,h(r.intro),1)]),"item.actions":o(({item:r})=>[a(b,{icon:"",small:"",onClick:D=>X(r),color:"primary"},{default:o(()=>[a(w,null,{default:o(()=>[...t[32]||(t[32]=[m("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick"]),a(b,{icon:"",small:"",onClick:D=>Z(r.id),color:"error"},{default:o(()=>[a(w,null,{default:o(()=>[...t[33]||(t[33]=[m("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])]),_:1},8,["items","loading"])]),_:1})]),_:1})]),_:1}),a(N,{value:"abhangs"},{default:o(()=>[a(A,{flat:""},{default:o(()=>[a($,null,{default:o(()=>[a(x,null,{default:o(()=>[a(C,{cols:"12",class:"text-right"},{default:o(()=>[a(b,{color:"success",onClick:ee},{default:o(()=>[a(w,{left:""},{default:o(()=>[...t[34]||(t[34]=[m("mdi-plus",-1)])]),_:1}),t[35]||(t[35]=m(" Add New Abhang ",-1))]),_:1})]),_:1})]),_:1}),a(F,{headers:[{title:"Abhang ID",key:"id",sortable:!0},{title:"Saint ID",key:"saintId",sortable:!0},{title:"Abhang",key:"content",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],items:Q.value,loading:c.value,class:"elevation-1"},{"item.content":o(({item:r})=>[S("div",Me,h(r.content),1)]),"item.actions":o(({item:r})=>[a(b,{icon:"",small:"",onClick:D=>te(r),color:"primary"},{default:o(()=>[a(w,null,{default:o(()=>[...t[36]||(t[36]=[m("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick"]),a(b,{icon:"",small:"",onClick:D=>ne(r.id),color:"error"},{default:o(()=>[a(w,null,{default:o(()=>[...t[37]||(t[37]=[m("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])]),_:1},8,["items","loading"])]),_:1})]),_:1})]),_:1}),a(N,{value:"stories"},{default:o(()=>[a(A,{flat:""},{default:o(()=>[a($,null,{default:o(()=>[a(x,null,{default:o(()=>[a(C,{cols:"12",class:"text-right"},{default:o(()=>[a(b,{color:"success",onClick:ae},{default:o(()=>[a(w,{left:""},{default:o(()=>[...t[38]||(t[38]=[m("mdi-plus",-1)])]),_:1}),t[39]||(t[39]=m(" Add New Story ",-1))]),_:1})]),_:1})]),_:1}),a(F,{headers:[{title:"Story ID",key:"id",sortable:!0},{title:"Title",key:"title",sortable:!0},{title:"Saint ID",key:"saintId",sortable:!0},{title:"Abhang ID",key:"abhangId",sortable:!0},{title:"Summary",key:"excerpt",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],items:Y.value,loading:c.value,class:"elevation-1"},{"item.excerpt":o(({item:r})=>[S("div",Fe,h(r.excerpt),1)]),"item.actions":o(({item:r})=>[a(b,{icon:"",small:"",onClick:D=>oe(r),color:"primary"},{default:o(()=>[a(w,null,{default:o(()=>[...t[40]||(t[40]=[m("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick"]),a(b,{icon:"",small:"",onClick:D=>re(r.id),color:"error"},{default:o(()=>[a(w,null,{default:o(()=>[...t[41]||(t[41]=[m("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])]),_:1},8,["items","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ye,{modelValue:n.showForm,"onUpdate:modelValue":t[18]||(t[18]=r=>n.showForm=r),"max-width":"800px"},{default:o(()=>[a(A,null,{default:o(()=>[a(P,null,{default:o(()=>[n.itemType==="saint"?(I(),k("span",Ne,h(n.editMode?"Edit Saint":"Add New Saint"),1)):n.itemType==="abhang"?(I(),k("span",qe,h(n.editMode?"Edit Abhang":"Add New Abhang"),1)):n.itemType==="story"?(I(),k("span",je,h(n.editMode?"Edit Story":"Add New Story"),1)):T("",!0),a(b,{icon:"",size:"small",onClick:t[3]||(t[3]=r=>n.showForm=!1),class:"float-right",color:"error"},{default:o(()=>[a(w,null,{default:o(()=>[...t[42]||(t[42]=[m("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),a($,null,{default:o(()=>[a(j,null,{default:o(()=>[n.itemType==="saint"?(I(),k("div",Pe,[a(V,{modelValue:n.currentItem.id,"onUpdate:modelValue":t[4]||(t[4]=r=>n.currentItem.id=r),label:"Saint ID",disabled:n.editMode,required:""},null,8,["modelValue","disabled"]),a(V,{modelValue:n.currentItem.name,"onUpdate:modelValue":t[5]||(t[5]=r=>n.currentItem.name=r),label:"Name",required:""},null,8,["modelValue"]),a(V,{modelValue:n.currentItem.image,"onUpdate:modelValue":t[6]||(t[6]=r=>n.currentItem.image=r),label:"Image URL"},null,8,["modelValue"]),a(U,{modelValue:n.currentItem.intro,"onUpdate:modelValue":t[7]||(t[7]=r=>n.currentItem.intro=r),label:"Introduction",rows:"3"},null,8,["modelValue"]),a(V,{modelValue:n.currentItem.quote,"onUpdate:modelValue":t[8]||(t[8]=r=>n.currentItem.quote=r),label:"Quote"},null,8,["modelValue"])])):T("",!0),n.itemType==="abhang"?(I(),k("div",Re,[a(R,{modelValue:n.currentItem.id,"onUpdate:modelValue":t[9]||(t[9]=r=>n.currentItem.id=r),items:g.value.saints.map(r=>r.id+"-")||[],label:"Abhang ID",disabled:n.editMode,required:""},null,8,["modelValue","items","disabled"]),a(q,{modelValue:n.currentItem.saintId,"onUpdate:modelValue":t[10]||(t[10]=r=>n.currentItem.saintId=r),items:g.value.saints.map(r=>r.id)||[],"item-title":"name","item-value":"id",label:"Saint ID","return-object":"",required:""},null,8,["modelValue","items"]),a(U,{modelValue:n.currentItem.content,"onUpdate:modelValue":t[11]||(t[11]=r=>n.currentItem.content=r),label:"Abhang Content",rows:"5",required:""},null,8,["modelValue"])])):T("",!0),n.itemType==="story"?(I(),k("div",Be,[a(R,{modelValue:n.currentItem.id,"onUpdate:modelValue":t[12]||(t[12]=r=>n.currentItem.id=r),items:g.value.abhangs.map(r=>r.saintId+"-")||[],label:"Story ID",disabled:n.editMode,required:""},null,8,["modelValue","items","disabled"]),a(V,{modelValue:n.currentItem.title,"onUpdate:modelValue":t[13]||(t[13]=r=>n.currentItem.title=r),label:"Title",required:""},null,8,["modelValue"]),a(q,{modelValue:n.currentItem.saintId,"onUpdate:modelValue":t[14]||(t[14]=r=>n.currentItem.saintId=r),items:g.value.saints.map(r=>r.id)||[],"item-title":"name","item-value":"id",label:"Saint ID",required:""},null,8,["modelValue","items"]),a(q,{modelValue:n.currentItem.abhangId,"onUpdate:modelValue":t[15]||(t[15]=r=>n.currentItem.abhangId=r),items:g.value.abhangs?g.value.abhangs.filter(r=>r.saintId===n.currentItem.saintId):[],"item-title":"content","item-value":"id",label:"Abhang"},null,8,["modelValue","items"]),a(U,{modelValue:n.currentItem.excerpt,"onUpdate:modelValue":t[16]||(t[16]=r=>n.currentItem.excerpt=r),label:"Summary",rows:"2"},null,8,["modelValue"]),a(U,{modelValue:n.currentItem.content,"onUpdate:modelValue":t[17]||(t[17]=r=>n.currentItem.content=r),label:"Story Content",rows:"5",required:""},null,8,["modelValue"])])):T("",!0)]),_:1})]),_:1}),a(ge,null,{default:o(()=>[a(pe),a(b,{color:"error",text:"",onClick:se},{default:o(()=>[m(h(n.editMode?"Cancel Update":"Cancel"),1)]),_:1}),a(b,{color:"success",onClick:le,loading:c.value},{default:o(()=>[m(h(n.editMode?"Update":"Save"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])):(I(),k("div",Oe,[a(j,null,{default:o(()=>[a(L,{type:"warning"},{default:o(()=>[...t[43]||(t[43]=[m(" Admin panel is only available in development mode. ",-1)])]),_:1})]),_:1})]))}}},Je=be(ze,[["__scopeId","data-v-aa1a5dbf"]]);export{Je as default};
