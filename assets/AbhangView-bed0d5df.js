import{_ as Y,u as Z,a as H,r as ee,c as y,o as te,b as o,d as ae,e as v,f as k,g as e,h as t,j as oe,n as ne,k as d,t as s,l as c,F as le,m as se,p as L,q as ce,s as re}from"./index-f84be970.js";const ie={key:0},de={class:"text-h6 text-center bg-pink-accent-3 font-weight-bold"},ue={class:"abhang-intro"},_e={class:"abhang-content text-caption text-center font-weight-bold"},ve={class:"d-flex justify-center mb-8"},pe={class:"text-h5 mb-4 text-center"},me={key:1,class:"d-flex justify-center align-center",style:{height:"80vh"}},ge={__name:"AbhangView",props:{language:{type:String,default:"mr"}},setup(j){const r=j,C=Z(),V=H(),m=C.params.saintId,g=C.params.id,u=ee(!1),i=y(()=>oe.mr),_=y(()=>i.value.abhangs.find(a=>a.id===g)),f=y(()=>i.value.saints.find(a=>a.id===m)),E=()=>{V.push(`/saint/${m}`)},D=()=>{var a,n;navigator.share?navigator.share({title:((a=f.value)==null?void 0:a.name)+" - अभंग",text:(n=_.value)==null?void 0:n.content,url:window.location.href}).catch(h=>console.log("Error sharing",h)):u.value=!0},N=()=>{var a;navigator.clipboard.writeText((a=_.value)==null?void 0:a.content).then(()=>{alert(r.language==="mr"?"अभंग क्लिपबोर्डवर कॉपी केला":"Abhang copied to clipboard"),u.value=!1}).catch(n=>console.log("Error copying to clipboard",n))},R=a=>{localStorage.setItem(`abhang-${g}-last-viewed-story`,a)},F=()=>localStorage.getItem(`abhang-${g}-last-viewed-story`),P=async()=>{const a=F();if(!a)return;await ne();const n=document.getElementById(`story-card-${a}`);n&&(n.scrollIntoView({behavior:"smooth",block:"center"}),n.classList.add("last-viewed-card"),setTimeout(()=>{n.classList.remove("last-viewed-card")},2e3))},S=a=>{R(a),V.push(`/story/${m}/${a}`)};return te(()=>{P()}),(a,n)=>{const h=o("v-img"),b=o("v-col"),x=o("v-card-text"),w=o("v-card"),$=o("v-row"),I=o("v-container"),p=o("v-btn"),T=o("v-card-title"),q=o("v-icon"),z=o("v-list-item-title"),M=o("v-list-item"),O=o("v-list"),U=o("v-spacer"),A=o("v-card-actions"),G=o("v-dialog"),J=o("v-hover"),K=o("v-progress-circular"),Q=ae("ripple");return _.value&&f.value?(v(),k("div",ie,[e(I,{fluid:"",class:"abhang-header-container pa-0"},{default:t(()=>[e($,{"no-gutters":""},{default:t(()=>[e(b,{cols:"12",md:"5",class:"d-flex align-center justify-center"},{default:t(()=>[e(h,{src:f.value.image,height:"200",class:"abhang-image"},null,8,["src"])]),_:1}),e(b,{cols:"12",md:"7",class:"d-flex flex-column justify-center"},{default:t(()=>[d("h2",de,s(r.language==="mr"?"अभंग":"Abhang"),1),d("div",ue,[e(w,{elevation:"2",color:"yellow-accent-1"},{default:t(()=>[e(x,null,{default:t(()=>[d("div",_e,s(_.value.content),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),e(I,null,{default:t(()=>[d("div",ve,[e(p,{color:"primary",variant:"outlined",class:"mx-2","prepend-icon":"mdi-arrow-left",onClick:E},{default:t(()=>[c(s(i.value.app.buttons.back),1)]),_:1}),e(p,{color:"primary",variant:"outlined",class:"mx-2","prepend-icon":"mdi-share-variant",onClick:D},{default:t(()=>[c(s(i.value.app.buttons.share),1)]),_:1})]),e(G,{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=l=>u.value=l),"max-width":"400"},{default:t(()=>[e(w,null,{default:t(()=>[e(T,{class:"text-h5"},{default:t(()=>[c(s(r.language==="mr"?"शेअर करा":"Share"),1)]),_:1}),e(x,null,{default:t(()=>[e(O,null,{default:t(()=>[e(M,{onClick:N},{prepend:t(()=>[e(q,null,{default:t(()=>[...n[2]||(n[2]=[c("mdi-content-copy",-1)])]),_:1})]),default:t(()=>[e(z,null,{default:t(()=>[c(s(r.language==="mr"?"क्लिपबोर्डवर कॉपी करा":"Copy to clipboard"),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(U),e(p,{color:"primary",variant:"text",onClick:n[0]||(n[0]=l=>u.value=!1)},{default:t(()=>[c(s(r.language==="mr"?"रद्द करा":"Cancel"),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),d("h2",pe,s(r.language==="mr"?"संबंधित कथा":"Related Stories"),1),e($,null,{default:t(()=>[(v(!0),k(le,null,se(i.value.stories.filter(l=>l.abhangId===_.value.id),l=>(v(),L(b,{key:l.id,cols:"12",sm:"6",md:"4"},{default:t(()=>[e(J,null,{default:t(({isHovering:B,props:W})=>[ce((v(),L(w,re({ref_for:!0},W,{elevation:B?8:2,class:[{"on-hover":B},"d-flex flex-column transition-swing"],height:"100%",id:`story-card-${l.id}`,onClick:X=>S(l.id)}),{default:t(()=>[e(T,{class:"text-h6 font-weight-bold"},{default:t(()=>[c(s(l.title),1)]),_:2},1024),e(x,{class:"flex-grow-1"},{default:t(()=>[d("p",null,s(l.excerpt),1)]),_:2},1024),e(A,null,{default:t(()=>[e(p,{color:"primary",variant:"elevated",class:"mx-auto",rounded:"pill",block:"",onClick:X=>S(l.id)},{default:t(()=>[c(s(i.value.app.buttons.read),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1040,["elevation","class","id","onClick"])),[[Q]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):(v(),k("div",me,[e(K,{indeterminate:"",color:"primary",size:"64"})]))}}},he=Y(ge,[["__scopeId","data-v-8ceb14c1"]]);export{he as default};
