import{_ as H,u as ee,a as te,r as ae,w as D,c as g,o as oe,b as n,d as ne,e as r,f as V,g as t,h as e,i as se,j as le,n as ce,k as d,t as s,l as _,F as E,m as P,p as h,q as F,s as R}from"./index-993ef017.js";const ie={key:0},re={class:"text-h6 font-weight-bold saint-name"},de={class:"saint-intro border-md bg-blue-grey-lighten-4"},ue={class:"text-body-2"},_e={class:"text-subtitle-2 font-weight-bold font-italic saint-quote"},ve={class:"abhang-content"},me={class:"story-excerpt text-caption"},pe={class:"text-center mt-4"},fe={__name:"SaintView",props:{language:{type:String,default:"mr"}},setup(U){const b=U,z=ee(),w=te(),l=z.params.id,i=ae(localStorage.getItem(`saint-${l}-activeTab`)||"abhangs");D(i,a=>{localStorage.setItem(`saint-${l}-activeTab`,a)});const v=g(()=>le.mr),m=g(()=>v.value.saints.find(a=>a.id===l)),M=g(()=>v.value.stories.filter(a=>a.saintId===l)),G=g(()=>v.value.abhangs.filter(a=>a.saintId===l)),J=a=>{w.push(`/story/${l}/${a}`)},K=a=>{w.push(`/abhang/${l}/${a}`)},O=()=>{w.push("/")},$=(a,c)=>{localStorage.setItem(`saint-${l}-lastViewed-${c}`,a)},Q=a=>localStorage.getItem(`saint-${l}-lastViewed-${a}`),S=async()=>{await ce();const a=i.value==="abhangs"?"abhang":"story",c=Q(a);if(c){const u=document.getElementById(`${a}-card-${c}`);u&&(u.scrollIntoView({behavior:"smooth",block:"center"}),u.classList.add("last-viewed-card"),setTimeout(()=>{u.classList.remove("last-viewed-card")},1500))}};return oe(()=>{S()}),D(i,()=>{S()}),(a,c)=>{const u=n("v-img"),p=n("v-col"),W=n("v-divider"),x=n("v-row"),I=n("v-container"),T=n("v-tab"),X=n("v-tabs"),B=n("v-card-text"),y=n("v-btn"),L=n("v-card-actions"),N=n("v-card"),j=n("v-hover"),q=n("v-window-item"),Y=n("v-card-title"),Z=n("v-window"),A=ne("ripple");return m.value?(r(),V("div",ie,[t(I,{class:"saint-header-container"},{default:e(()=>[t(x,null,{default:e(()=>[t(p,{cols:"6",md:"5",class:"d-flex align-center"},{default:e(()=>[t(u,{src:m.value.image,class:"saint-image","max-height":"100",contain:""},null,8,["src"])]),_:1}),t(p,{cols:"6",md:"7",class:"d-flex flex-column justify-center"},{default:e(()=>[d("h1",re,s(m.value.name),1)]),_:1}),t(p,{cols:"12",class:"d-flex flex-column justify-center"},{default:e(()=>[d("div",de,[d("p",ue,s(m.value.intro),1),t(W,{class:"my-1"}),d("p",_e,' "'+s(m.value.quote)+'" ',1)])]),_:1})]),_:1})]),_:1}),t(I,{class:"py-2"},{default:e(()=>[t(X,{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=o=>i.value=o),"align-tabs":"center",color:"indigo",variant:"flat"},{default:e(()=>[t(T,{value:"abhangs"},{default:e(()=>[_(s(b.language==="mr"?"अभंग संग्रह":"Abhang Collection"),1)]),_:1}),t(T,{value:"stories"},{default:e(()=>[_(s(b.language==="mr"?"कथा संग्रह":"Story Collection"),1)]),_:1})]),_:1},8,["modelValue"]),t(Z,{modelValue:i.value,"onUpdate:modelValue":c[1]||(c[1]=o=>i.value=o)},{default:e(()=>[t(q,{value:"abhangs"},{default:e(()=>[t(x,{dense:""},{default:e(()=>[(r(!0),V(E,null,P(G.value,o=>(r(),h(p,{key:o.id,cols:"6",sm:"6",md:"4",lg:"3"},{default:e(()=>[t(j,null,{default:e(({isHovering:f,props:k})=>[F((r(),h(N,R({ref_for:!0},k,{elevation:f?8:1,class:[{"on-hover":f},"d-flex flex-column transition-swing abhang-card"],height:"100%",id:`abhang-card-${o.id}`,onClick:C=>$(o.id,"abhang")}),{default:e(()=>[t(B,{class:"flex-grow-1"},{default:e(()=>[d("p",ve,s(o.content),1)]),_:2},1024),t(L,null,{default:e(()=>[t(y,{color:"primary",variant:"elevated",density:"comfortable",class:"mx-auto",block:"",rounded:"pill",onClick:C=>K(o.id)},{default:e(()=>[_(s(v.value.app.buttons.read),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1040,["elevation","class","id","onClick"])),[[A]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(q,{value:"stories"},{default:e(()=>[t(x,{dense:""},{default:e(()=>[(r(!0),V(E,null,P(M.value,o=>(r(),h(p,{key:o.id,cols:"6",sm:"6",md:"4",lg:"3"},{default:e(()=>[t(j,null,{default:e(({isHovering:f,props:k})=>[F((r(),h(N,R({ref_for:!0},k,{elevation:f?8:1,class:[{"on-hover":f},"d-flex flex-column transition-swing story-card"],height:"100%",id:`story-card-${o.id}`,onClick:C=>$(o.id,"story")}),{default:e(()=>[t(Y,{class:"text-subtitle-1 font-weight-bold py-2 text-pink-accent-3"},{default:e(()=>[_(s(o.title),1)]),_:2},1024),t(B,{class:"flex-grow-1"},{default:e(()=>[d("p",me,s(o.excerpt),1)]),_:2},1024),t(L,null,{default:e(()=>[t(y,{color:"red-accent-3",variant:"elevated",density:"comfortable",class:"mx-auto",block:"",rounded:"pill",onClick:C=>J(o.id)},{default:e(()=>[_(s(v.value.app.buttons.read),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1040,["elevation","class","id","onClick"])),[[A]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),d("div",pe,[t(y,{color:"primary",variant:"outlined","prepend-icon":"mdi-arrow-left",size:"small",onClick:O},{default:e(()=>[_(s(b.language==="mr"?"मुख्यपृष्ठाकडे परत जा":"Back to Home"),1)]),_:1})])]),_:1})])):se("",!0)}}},he=H(fe,[["__scopeId","data-v-e03e5633"]]);export{he as default};
